"use strict";let pokemonRepository=function(){let d=[];function a(){return d}function b(a){"object"==typeof a&&"name"in a?d.push(a):console.log("Pokemon is not valid")}function c(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.other.dream_world.front_default,a.height=b.height,a.weight=b.weight;let c=[];b.types.forEach(b=>{let a=b.type.name;a=a[0].toUpperCase()+a.substring(1),c.push(a)}),a.types=c;let d=[];b.abilities.forEach(b=>{let a=b.ability.name;a=a[0].toUpperCase()+a.substring(1),d.push(a)}),a.abilities=d}).catch(function(a){console.error(a)})}return{add:b,getAll:a,loadList:function(){return fetch("https://pokeapi.co/api/v2/pokemon/?limit=152").then(function(a){return a.json()}).then(function(a){a.results.forEach(function(a){b({name:a.name,detailsUrl:a.url})})}).catch(function(a){console.error(a)})},loadDetails:c,addListItem:function(d){let e=document.querySelector("ul");e.classList.add("pokemonList");let b=document.createElement("li");b.classList.add("list-group-item","col-sm-12","col-md-6","col-lg-3");let a=document.createElement("button");a.classList.add("btn","btn-light","btn-search"),a.innerText=d.name[0].toUpperCase()+d.name.substring(1),a.setAttribute("data-toggle","modal"),a.setAttribute("data-target",".modal"),b.appendChild(a),e.appendChild(b),a.addEventListener("click",function(){(function(a){c(a).then(function(){var b;let c,e,d,g,f,h,i,j,k;b=a,c=$(".modal-body"),e=$(".modal-header"),d=$(".modal-title"),c.empty(),e.empty(),d.empty(),g=$(`<h1>${b.name[0].toUpperCase()}${b.name.substring(1)}</h1>`),f=$('<img class="modal-img">'),f.attr("src",b.imageUrl),h=$(`<p>Height: ${b.height}</p>`),i=$(`<p>Weight: ${b.weight}</p>`),j=$(`<p>Types: ${b.types}</p>`),k=$(`<p>Abilities: ${b.abilities}</p>`),d.append(g),e.append(d),c.append(f),c.append(h),c.append(i),c.append(j),c.append(k)})})(d)})},filterList:function(){let a=searchInput.val().toLowerCase();$(".pokemonList > li").each(function(){$(this).text().toLowerCase().search(a)> -1?$(this).show():$(this).hide()})}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})});let searchInput=$("input");searchInput.on("input",pokemonRepository.filterList)